
// ZIM js Interactive Media modules by Dan Zen http://danzen.com (c) 2016
// zim.js includes all the basic zim coding modules http://zimjs.com
// free to use - donations welcome of course! http://zimjs.com/donate

function zid(e){return document.getElementById(e)}function zss(e){return document.getElementById(e)?document.getElementById(e).style:void(zon&&zog("zim wrap - zss(): id not found"))}function zgo(e,t,o){zot(t)&&""!=t||"_self"==t?window.location.href=e:zot(o)?window.open(e,t):window.open(e,"_blank","modal=yes,alwaysRaised=yes")}function zum(e){return zot(e)?void 0:Number(String(e).replace(/[^\d\.\-]/g,""))}function zot(e){return null===e?!0:"undefined"==typeof e}function zop(e){zot(e)||(e.stopImmediatePropagation&&e.stopImmediatePropagation(),window.event&&(window.event.cancelBubble=!0))}function zil(){var e=function(e){e||(e=event),e.keyCode&&e.keyCode>=32&&e.keyCode<=40&&e.preventDefault()},t=function(e){e||(e=event),e.preventDefault()},o=t;return window.addEventListener("keydown",e),window.addEventListener("mousewheel",t),window.addEventListener("DOMMouseScroll",o),[e,t,o]}function zob(e,t,o,n){if(1==t.length&&t[0].constructor==={}.constructor){var i,a,r=t[0],s=zot(o)?e.toString().split(/\n/,1)[0].match(/\((.*)\)/)[1].replace(/\s+/g,"").split(","):o.replace(/\s+/g,"").split(","),d=[];for(i=0;i<s.length;i++)a=s[i].split("=")[0],s[i]=a,d.push(r[a]);for(i in r)s.indexOf(i)<0&&zon&&zog(e,"bad argument "+i);var l;return(l=e.prototype.isPrototypeOf(n)?new(e.bind.apply(e,[null].concat(d))):e.apply(null,d))?l:!0}}"undefined"==typeof zon&&(zon=!1);var zog=console.log.bind(console);zon&&zog("ZIM WRAP zog zid zss zgo zum zot zop zil zob");var zim=function(e){return zon&&zog("ZIM CODE Module"),e.shuffle=function(e){if(!zot(e)){var t,o,n=e.length;if(0==n)return e;for(;--n;)t=Math.floor(Math.random()*(n+1)),o=e[n],e[n]=e[t],e[t]=o;return e}},e.rand=function(e,t,o){zot(o)&&(o=!0),zot(t)&&(t=0),zot(e)&&(e=0),o&&(e>t?e++:t>e&&t++);var n;return 0==e&&0==t?Math.random():(n=0==t?Math.random()*e:Math.min(e,t)+Math.random()*(Math.max(e,t)-Math.min(e,t)),o?Math.floor(n):n)},e.copy=function(t){if(null==t||"object"!=typeof t)return t;if(t instanceof Array)return t.slice(0);if(t instanceof Object){copy={};for(var o in t)t.hasOwnProperty(o)&&(copy[o]=e.copy(t[o]));return copy}},e.arraysEqual=function(t,o,n){if(zot(t)||zot(o))return!1;if(zot(n)&&(n=!0),t.length!=o.length)return!1;for(var i=0;i<t.length;i++)if(t[i]instanceof Array&&o[i]instanceof Array){if(!e.arraysEqual(t[i],o[i],n))return!1}else{if(n&&t[i]!=o[i])return!1;if(!n)return e.arraysEqual(t.sort(),o.sort(),!0)}return!0},e.merge=function(){var e,t,o={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&(o[t]=arguments[e][t]);return o},e.decimals=function(e,t){return zot(e)||0==e?0:(zot(t)&&(t=1),Math.round(e*Math.pow(10,t))/Math.pow(10,t))},e.Damp=function(t,o){var n,i="startValue, damp";return(n=zob(e.Damp,arguments,i))?n:(zon&&zog("zim code - Damp"),this.lastValue=zot(t)?0:t,void(this.damp=zot(o)?.1:o))},e.Damp.prototype.convert=function(e){return this.lastValue=this.lastValue+(e-this.lastValue)*this.damp},e.Damp.prototype.immediate=function(e){this.lastValue=e},e.Proportion=function(t,o,n,i,a,r){var s,d="baseMin, baseMax, targetMin, targetMax, factor, targetRound";if(s=zob(e.Proportion,arguments,d))return s;zot(n)&&(n=0),zot(i)&&(i=1),zot(a)&&(a=1),zot(r)&&(r=!1);var l,h,u;l=t,this.convert=function(e){return isNaN(e)?void 0:(e=Math.max(e,t),e=Math.min(e,o),h=(e-t)/(o-t),u=a>0?n+(i-n)*h:i-(i-n)*h,r&&(u=Math.round(u)),u)}},e.ProportionDamp=function(t,o,n,i,a,r,s){function d(){isNaN(u)||(u=Math.max(u,t),u=Math.min(u,o),c=(u-t)/(o-t),g=i-n,p=r>0?n+g*c:i-g*c,m=p,f=m-z,z+=f*v.damp)}var l,h="baseMin, baseMax, targetMin, targetMax, damp, factor, targetRound";if(l=zob(e.ProportionDamp,arguments,h))return l;zot(n)&&(n=0),zot(i)&&(i=1),zot(a)&&(a=.1),zot(r)&&(r=1),zot(s)&&(s=!1),this.damp=a;var u,c,g,p,f,v=this,m=0,z=0;u=t,z=n;var b=setInterval(d,20);this.immediate=function(e){v.convert(e),d(),z=p,s&&(z=Math.round(z))},this.convert=function(e){return u=e,s?Math.round(z):z},this.dispose=function(){clearInterval(b)}},e.scrollX=function(t,o){return e.abstractScroll("X","Left",t,o)},e.scrollY=function(t,o){return e.abstractScroll("Y","Top",t,o)},e.abstractScroll=function(t,o,n,i){var a="X"==t?"Y":"X";if(zot(n)){var r=0,s=navigator.appName,d=navigator.userAgent.indexOf("Safari");if(-1!=d||"Safari"==s)var r=1;return r||"CSS1Compat"!=document.compatMode?document.body["scroll"+o]:document.documentElement["scroll"+o]}if(zot(i))window.scrollTo(e["scroll"+a](),n);else{var l=50;l>i&&(i=l);var h=i/l,u=e["scroll"+t](),c=n-u,g=c/h,p=0,f=setInterval(function(){p++,u+=g,window.scrollTo(e["scroll"+a](),u),p>=h&&(window.scrollTo(e["scroll"+a](),n),clearInterval(f))},l)}},e.windowWidth=function(){return isNaN(window.innerWidth)?window.clientWidth:window.innerWidth},e.windowHeight=function(){return isNaN(window.innerHeight)?window.clientHeight:window.innerHeight},e.urlEncode=function(e){var e=(e+"").toString();return encodeURIComponent(e).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+")},e.urlDecode=function(e){return decodeURIComponent((e+"").replace(/\+/g,"%20"))},e.setCookie=function(e,t,o){if(o){var n=new Date;n.setTime(n.getTime()+24*o*60*60*1e3);var i="; expires="+n.toGMTString()}else var i="";document.cookie=e+"="+escape(t)+i+"; path=/"},e.getCookie=function(e){var t,o=document.cookie.split(/;\s*/),n=new Array;for(i=0;i<o.length;i++)t=o[i].split("="),n[t[0]]=t[1];return unescape(n[e])},e.deleteCookie=function(t){e.setCookie(t,"",-1)},e.mobile=function(e){return zot(e)&&(e=!0),/ip(hone|od|ad)|android|blackberry|nokia|opera mini|mobile|phone|nexus|webos/i.test(navigator.userAgent)?!0:e&&void 0!==window.orientation?!0:!1},e}(zim||{}),zim=function(e){return zon&&zog("ZIM CREATE Module"),e.drag=function(t,o,n,i,a,r,s,d){function l(){p=0,f=0,m=s?e.boundsToGlobal(t.parent,o):o,v=t.parent.localToGlobal(t.x,t.y),h(t,v.x,v.y)}function h(e,t,o){if(e.parent&&e.getStage()){var n=e.parent.globalToLocal(t,o),i=u(e,n.x-p,n.y-f);e.x=i.x,e.y=i.y,e.getStage().update()}}function u(e,t,n){if(o){var i=e.parent.localToGlobal(t,n);t=Math.max(m.x,Math.min(m.x+m.width,i.x)),n=Math.max(m.y,Math.min(m.y+m.height,i.y)),i=e.parent.globalToLocal(t,n),t=i.x,n=i.y}return{x:t,y:n}}var c,g="obj, rect, overCursor, dragCursor, currentTarget, swipe, localBounds, onTop";if(c=zob(e.drag,arguments,g))return c;if(!zot(t)&&t.on){t.cursor=zot(n)?"pointer":n,zot(o)&&(s=!1),zot(a)&&(a=!1),zot(r)&&(r=!1),zot(s)&&(s=!1),zot(d)&&(d=!0),e.setSwipe(t,r);var p,f,v,m;return t.zimAdded=t.on("added",l,null,!0),t.parent&&l(),t.zimDown=t.on("mousedown",function(n){var r=a?n.currentTarget:n.target;d&&(r.parent.setChildIndex(r,r.parent.numChildren-1),r.getStage().update());var l=r.parent.globalToLocal(n.stageX,n.stageY);p=l.x-r.x,f=l.y-r.y,m=s?e.boundsToGlobal(n.target.parent,o):o,t.cursor=zot(i)?"move":i},!0),t.zimMove=t.on("pressmove",function(e){var t=a?e.currentTarget:e.target;h(t,e.stageX,e.stageY)},!0),t.zimUp=t.on("pressup",function(e){t.cursor=zot(n)?"pointer":n},!0),t}},e.noDrag=function(t){return!zot(t)&&t.on?(t.cursor="default",e.setSwipe(t,!0),t.off("added",t.zimAdded),t.off("mousedown",t.zimDown),t.off("pressmove",t.zimMove),t.off("pressup",t.zimUp),t):void 0},e.setSwipe=function(e,t){function o(t){for(var n,i=t.getNumChildren(),a=0;i>a;a++)n=t.getChildAt(a),n.zimNoSwipe=e.zimNoSwipe,n instanceof createjs.Container&&o(n)}!zot(e)&&e.on&&(e.zimNoSwipe=t?null:!0,e instanceof createjs.Container&&o(e))},e.hitTestPoint=function(e,t,o){if(!zot(e)&&e.globalToLocal){var n=e.globalToLocal(t,o);return e.hitTest(n.x,n.y)}},e.hitTestReg=function(e,t){if(!zot(e)&&!zot(t)&&e.localToLocal&&t.localToLocal){var o=t.localToLocal(t.regX,t.regY,e);return e.hitTest(o.x,o.y)}},e.hitTestRect=function(e,t,o){if(!zot(e)&&!zot(t)&&e.hitTest&&t.getBounds){zot(o)&&(o=0);var n=t.getBounds();if(!n)return void zog("zim create - hitTestRect():\n please setBounds() on param b object");for(var i,a,r,s=0;o>=s;s++){if(i=n.width*(s+1)/(o+1),a=n.height*(s+1)/(o+1),r=t.localToLocal(n.x+i,n.y,e),e.hitTest(r.x,r.y))return!0;if(r=t.localToLocal(n.x+n.width,n.y+a,e),e.hitTest(r.x,r.y))return!0;if(r=t.localToLocal(n.x+n.width-i,n.y+n.height,e),e.hitTest(r.x,r.y))return!0;if(r=t.localToLocal(n.x,n.y+n.height-a,e),e.hitTest(r.x,r.y))return!0}}},e.hitTestCircle=function(e,t,o){if(!zot(e)&&!zot(t)&&e.hitTest&&t.getBounds){zot(o)&&(o=8);var n=t.getBounds();if(!n)return void zog("zim create - hitTestCircle():\n please setBounds() on param b object");for(var i,a,r,s,d=n.x+n.width/2,l=n.y+n.height/2,h=(n.width+n.height)/2/2,u=0;o>u;u++)if(i=u/o*2*Math.PI,a=d+h*Math.cos(i),r=l+h*Math.sin(i),s=t.localToLocal(a,r,e),e.hitTest(s.x,s.y))return!0}},e.hitTestBounds=function(t,o,n){function i(e,t){return e.x>=t.x+t.width||e.x+e.width<=t.x||e.y>=t.y+t.height||e.y+e.height<=t.y?!1:!0}if(!zot(t)&&!zot(o)&&t.getBounds&&o.getBounds){var a=!1;n&&n.graphics&&(a=!0);var r=t.getBounds(),s=o.getBounds();if(!r||!s)return void zog("zim create - hitTestBounds():\n please setBounds() on both objects");var d=e.boundsToGlobal(t),l=e.boundsToGlobal(o);if(a){var h=n.graphics;h.clear(),h.setStrokeStyle(1).beginStroke("blue"),h.drawRect(d.x,d.y,d.width,d.height),h.beginStroke("green"),h.drawRect(l.x,l.y,l.width,l.height),n.getStage().update()}return i(d,l)}},e.boundsToGlobal=function(e,t){if(!zot(e)&&e.getBounds){var o=e.getBounds();if(!o&&zot(t))return void zog("zim create - boundsToGlobal():\n please setBounds() on object (or a rectangle)");t&&(o=t);var n=e.localToGlobal(o.x,o.y),i=e.localToGlobal(o.x+o.width,o.y),a=e.localToGlobal(o.x+o.width,o.y+o.height),r=e.localToGlobal(o.x,o.y+o.height),s=Math.min(n.x,i.x,a.x,r.x),d=Math.min(n.y,i.y,a.y,r.y),l=Math.max(n.x,i.x,a.x,r.x),h=Math.max(n.y,i.y,a.y,r.y);return new createjs.Rectangle(s,d,l-s,h-d)}},e.hitTestGrid=function(e,t,o,n,i,a,r,s,d,l,h,u,c){if(!zot(e)&&!u){var g=e.globalToLocal(a,r);a=g.x,r=g.y}zot(s)&&(s=0),zot(d)&&(d=0),zot(l)&&(l=0),zot(h)&&(h=0);var p=t/n,f=o/i,v=Math.min(n-1,Math.max(0,Math.floor((a-s)/p))),m=Math.min(i-1,Math.max(0,Math.floor((r-d)/f)));if(!(a-s>p*(v+1)-l||r-d>f*(m+1)-h)){var z=m*n+v;return zot(c)||"index"==c?z:"col"==c?v:"row"==c?m:"array"==c?[z,v,m]:void 0}},e.scale=function(e,t){return!zot(e)&&e.scaleX?(zot(t)&&(t=1),e.scaleX=e.scaleY=t,e):void 0},e.scaleTo=function(t,o,n,i,a){var r,s="obj, boundObj, percentX, percentY, type";if(r=zob(e.scaleTo,arguments,s))return r;if(zot(t)||!t.getBounds||!t.getBounds())return void zog("zim create - scaleTo(): please provide an object (with setBounds) to scale");if(zot(o)||!o.getBounds||!o.getBounds())return void zog("zim create - scaleTo(): please provide a boundObject (with setBounds) to scale to");if(zot(n)&&(n=-1),zot(i)&&(i=-1),-1==n&&-1==i)return t;zot(a)&&(a="smallest");var d=o.getBounds().width*n/100,l=o.getBounds().height*i/100;if((-1==n||-1==i)&&"both"!=a&&"stretch"!=a)return-1==n?e.scale(t,l/t.getBounds().height):e.scale(t,d/t.getBounds().width),t;if("both"==a||"stretch"==a)return t.scaleX=-1!=n?d/t.getBounds().width:t.scaleX,t.scaleY=-1!=i?l/t.getBounds().height:t.scaleY,t;if("biggest"==a||"largest"==a||"outside"==a)var h=Math.max(d/t.getBounds().width,l/t.getBounds().height);else var h=Math.min(d/t.getBounds().width,l/t.getBounds().height);return e.scale(t,h),t},e.move=function(t,o,n,i,a,r,s,d,l,h,u){var c,g="target, x, y, time, ease, call, params, wait, props, fps, ticker";return(c=zob(e.move,arguments,g))?c:e.animate(t,{x:o,y:n},i,a,r,s,d,l,h,u)},e.animate=function(t,o,n,i,a,r,s,d,l,h){function u(){if(a&&"function"==typeof a&&a(r),d.loop){if(!(m>0))return;if(m>z)return void z++}v.setPaused(!0),h&&createjs.Ticker.off("tick",B)}function c(){C&&"function"==typeof C&&C(S)}var g,p="target, obj, time, ease, call, params, wait, props, fps, ticker";if(g=zob(e.animate,arguments,p))return g;if(!zot(t)&&t.on&&!zot(o)&&t.getStage()){var f=n;zot(f)&&(f=1e3),zot(i)&&(i="quadInOut"),zot(s)&&(s=0),zot(d)&&(d={override:!0}),zot(r)&&(r=t),zot(l)&&(l=30),zot(h)&&(h=!0),zot(o.scale)||(o.scaleX=o.scaleY=o.scale,delete o.scale);var v;if(d.loop&&!zot(d.count)){var m=d.count;delete d.count;var z=1}if(d.rewind){if(i){var b=i;-1==b.indexOf("InOut")&&(-1!=b.indexOf("Out")?b=b.replace("Out","In"):-1!=b.indexOf("In")&&(b=b.replace("In","Out")))}var w={},y=0;for(var x in o)w[x]=t[x];if(delete d.rewind,d.rewindWait&&(y=d.rewindWait,delete d.rewindWait),d.rewindCall){var C=d.rewindCall,S=d.rewindParams;zot(S)&&(S=t),delete d.rewindCall,delete d.rewindParams,v=createjs.Tween.get(t,d).wait(s).to(o,f,createjs.Ease[i]).call(c).wait(y).to(w,f,createjs.Ease[b]).call(u)}else v=createjs.Tween.get(t,d).wait(s).to(o,f,createjs.Ease[i]).wait(y).to(w,f,createjs.Ease[b]).call(u)}else v=createjs.Tween.get(t,d).wait(s).to(o,f,createjs.Ease[i]).call(u);if(h){var B=createjs.Ticker.on("tick",t.getStage());createjs.Ticker.setFPS(l)}return t}},e.fit=function(t,o,n,i,a,r){var s,d="obj, left, top, width, height, inside";if(s=zob(e.fit,arguments,d))return s;if(!zot(t)&&t.getBounds){if(!t.getBounds())return void zog("zim create - fit(): please setBounds() on object");if(zot(o)){if(!t.getStage())return void zog("zim create - fit(): please add boundary dimensions or add obj to stage first");if(!t.getStage().getBounds())return void zog("zim create - fit(): please add boundary dimensions or add obj with bounds to stage first");var l=t.getStage().getBounds().width,h=t.getStage().getBounds().height;o=0,n=0,i=l,a=h}zot(r)&&(r=!0),t.scaleX=t.scaleY=1;var u,c=i,g=a,p=t.getBounds().width,f=t.getBounds().height;u=r?c/g>=p/f?g/f:c/p:c/g>=p/f?c/p:g/f,t.scaleX=t.scaleY=u;var v=p*u,m=f*u;return t.x=o+(c-v)/2,t.y=n+(g-m)/2,{x:t.x,y:t.y,width:v,height:m,scale:u,bX:o,bY:n,bWidth:i,bHeight:a}}},e.outline=function(t,o,n){var i,a="obj, color, size";if(i=zob(e.outline,arguments,a))return i;if(zot(t)||!t.getBounds)return void zog("zim create - outline(): please provide object and shape");if(!t.getBounds())return void zog("zim create - outline(): please setBounds() on object");if(!t.parent)return void zog("zim create - outline(): object should be on stage first");zot(o)&&(o="brown"),zot(n)&&(n=2);var r=t.getBounds(),s=new createjs.Shape,d=t.parent,l=t.localToLocal(r.x,r.y,d),h=t.localToLocal(r.x+r.width,r.y,d),u=t.localToLocal(r.x+r.width,r.y+r.height,d),c=(t.localToLocal(r.x,r.y+r.height,d),s.graphics);c.s(o).ss(n).r(l.x,l.y,h.x-l.x,u.y-h.y),zero={x:l.x-r.x*t.scaleX,y:l.y-r.y*t.scaleY};var g=10,p=g+1;return c.s("white").ss(n+2),c.mt(zero.x-p,zero.y+0).lt(zero.x+p,zero.y+0),c.mt(zero.x+0,zero.y-p).lt(zero.x+0,zero.y+p),c.s(o).ss(n),c.mt(zero.x-g,zero.y+0).lt(zero.x+g,zero.y+0),c.mt(zero.x+0,zero.y-g).lt(zero.x+0,zero.y+g),c.s("white").ss(n+2).dc(t.x,t.y,g+6),c.s(o).ss(n).dc(t.x,t.y,g+6),t.parent.addChild(s),t.getStage()&&t.getStage().update(),t},e.centerReg=function(t,o){var n,i="obj, container";if(n=zob(e.centerReg,arguments,i))return n;if(zot(t)||!t.getBounds)return void zog("zim create - centerReg(): please provide object with bounds set");if(!zot(o)){if(!o.getBounds)return void zog("zim create - centerReg(): please provide container with bounds set");t.x=o.getBounds().width/2,t.y=o.getBounds().height/2}var a=t.getBounds();return t.regX=a.x+a.width/2,t.regY=a.y+a.height/2,t},e.expand=function(e,t,o){if(zot(e)||!e.getBounds)return void zog("zim create - expand(): please provide object with bounds set");zot(t)&&(t=20),zot(o)&&(o=t);var n=e.getBounds(),i=new createjs.Shape;return i.graphics.f("0").r(n.x-t,n.y-o,n.width+2*t,n.height+2*o),e.hitArea=i,e},e}(zim||{}),zim=function(e){function t(e,t){t?(e.mouseChildren=!0,e.mouseEnabled=!0,e._enabled=!0):(e.mouseChildren=!1,e.mouseEnabled=!1,e._enabled=!1)}return zon&&zog("ZIM BUILD Module"),e.OPTIMIZE=!1,e.ACTIONEVENT="mousedown",e.Circle=function(t,o,n,i){function a(){zot(t)&&(t=50),zot(o)&&(o="black");var a=this;this.mouseChildren=!1;var r=this.shape=new createjs.Shape;this.addChild(r);var s=r.graphics,d=s.beginFill(o).command;if(!zot(n)){var l=s.beginStroke(n).command;zot(i)&&(i=1);var h=s.setStrokeStyle(i).command}s.dc(0,0,t),this.width=2*t,this.height=2*t,this.setBounds(-t,-t,this.width,this.height),this.setFill=function(e){zot(e)||(o=e,d.style=o)},Object.defineProperty(a,"color",{get:function(){return o},set:function(e){a.setFill(e)}}),this.setStroke=function(e){l&&!zot(e)&&(n=e,l.style=n)},this.setStrokeSize=function(e){h&&!zot(e)&&(i=e,h.width=i)},this.clone=function(){return new e.Circle(t,o,n,i)}}var r,s="radius, fill, stroke, strokeSize";return(r=zob(e.Circle,arguments,s))?r:(a.prototype=new createjs.Container,a.prototype.constructor=e.Circle,new a)},e.Rectangle=function(t,o,n,i,a,r){function s(){zot(t)&&(t=100),zot(o)&&(o=100),zot(n)&&(n="black"),zot(r)&&(r=0);var s=this;this.mouseChildren=!1;var d=this.shape=new createjs.Shape;this.addChild(d);var l=d.graphics,h=l.beginFill(n).command;if(!zot(i)){var u=l.beginStroke(i).command;zot(a)&&(a=1);var c=l.setStrokeStyle(a).command}r>0?l.rr(0,0,t,o,r):l.r(0,0,t,o),this.width=t,this.height=o,this.setBounds(0,0,this.width,this.height),this.setFill=function(e){zot(e)||(n=e,h.style=n)},Object.defineProperty(s,"color",{get:function(){return n},set:function(e){s.setFill(e)}}),this.setStroke=function(e){u&&!zot(e)&&(i=e,u.style=i)},this.setStrokeSize=function(e){c&&!zot(e)&&(a=e,c.width=a)},this.clone=function(){return new e.Rectangle(t,o,n,i,a,r)}}var d,l="width, height, fill, stroke, strokeSize, corner";return(d=zob(e.Rectangle,arguments,l))?d:(s.prototype=new createjs.Container,s.prototype.constructor=e.Rectangle,new s)},e.Triangle=function(t,o,n,i,a,r,s,d){function l(){zot(t)&&(t=100),zot(o)&&(o=t),zot(n)&&(n=t),-1==n&&(n=Math.sqrt(Math.pow(t,2)+Math.pow(o,2))),zot(i)&&(i="black"),zot(s)&&(s=!0),zot(d)&&(d=0),this.mouseChildren=!1;var l=this,h=[t,o,n];if(h.sort(function(e,t){return t-e}),aa=h[0],bb=h[1],cc=h[2],aa>bb+cc)return void zog("zim build - Triangle(): invalid triangle lengths");var u=this.shape=new createjs.Shape;this.addChild(u);var c=u.graphics,g=c.beginFill(i).command;if(!zot(a)){var p=c.beginStroke(a).command;zot(r)&&(r=1);var f=c.setStrokeStyle(r).command}c.mt(0,0),c.lt(t,0);var v,m=180*Math.acos((Math.pow(bb,2)+Math.pow(cc,2)-Math.pow(aa,2))/(2*bb*cc))/Math.PI,z=180*Math.asin(bb*Math.sin(m*Math.PI/180)/aa)/Math.PI,b=180-m-z;v=n==aa?m:n==bb?z:b;var w=Math.cos(v*Math.PI/180)*o,y=Math.sin(v*Math.PI/180)*o;this.width=Math.max(t,t-w),this.height=y,this.setBounds(0,0,this.width,this.height),u.y=this.height,c.lt(t-w,0-y),c.cp(),s&&(this.regX=this.width/2,this.regY=this.height/2+d),this.setFill=function(e){zot(e)||(i=e,g.style=i)},Object.defineProperty(l,"color",{get:function(){return i},set:function(e){l.setFill(e)}}),this.setStroke=function(e){p&&!zot(e)&&(a=e,p.style=a)},this.setStrokeSize=function(e){f&&!zot(e)&&(r=e,f.width=r)},this.clone=function(){return new e.Triangle(t,o,n,i,a,r,s,d)}}var h,u="a, b, c, fill, stroke, strokeSize, center, adjust";return(h=zob(e.Triangle,arguments,u))?h:(l.prototype=new createjs.Container,l.prototype.constructor=e.Triangle,new l)},e.Label=function(o,n,i,a,r,s,d){function l(){zot(o)&&(o="LABEL"),""==o&&(o=" "),zot(n)&&(n=36),zot(i)&&(i="arial"),zot(a)&&(a="black"),zot(r)&&(r=a),zot(s)&&(s=null),zot(d)&&(d=16);var l=this;this.mouseChildren=!1;var h=this.label=new createjs.Text(String(o),n+"px "+i,a);h.textBaseline="alphabetic",h.textAlign="left",s&&d>0&&(h.shadow=new createjs.Shadow(s,3,3,d)),this.addChild(h);var u=new createjs.Shape;u.graphics.f("black").r(0,0,this.getBounds().width,this.getBounds().height),this.hitArea=u,this.width=this.getBounds().width,this.height=this.getBounds().height,this.setBounds(0,0,this.width,this.height),h.y=n-n/6,Object.defineProperty(l,"text",{get:function(){var e=" "==h.text?"":h.text;return e},set:function(e){zot(e)&&(e=" "),h.text=e,l.setBounds(0,0,h.getBounds().width,h.getBounds().height)}}),Object.defineProperty(l,"color",{get:function(){return a},set:function(t){a=t,h.color=a,!e.OPTIMIZE&&l.getStage()&&l.getStage().update()}}),Object.defineProperty(l,"rollColor",{get:function(){return r},set:function(e){r=e}}),this._enabled=!0,Object.defineProperty(l,"enabled",{get:function(){return l._enabled},set:function(o){t(l,o),h.color=a,l.mouseChildren=!1,!e.OPTIMIZE&&l.getStage()&&l.getStage().update()}}),this.showRollColor=function(e){zot(e)&&(e=!0),e?h.color=r:h.color=a,l.getStage()&&l.getStage().update()},this.on("mouseover",function(e){l.showRollColor()}),this.on("mouseout",function(e){l.showRollColor(!1)}),this.clone=function(){return new e.Label(l.text,n,i,a,r,s,d)},this.dispose=function(){l.removeAllEventListeners()}}var h,u="text, size, font, color, rollColor, shadowColor, shadowBlur";return(h=zob(e.Label,arguments,u))?h:(l.prototype=new createjs.Container,l.prototype.constructor=e.Label,new l)},e.Button=function(o,n,i,a,r,s,d,l,h,u,c){function g(){function g(e){f.on("mouseout",p),v.color=r,f.label.showRollColor(),f.getStage()&&f.getStage().update()}function p(e){f.off("mouseout",p),v.color=a,f.label.showRollColor(!1),f.getStage()&&f.getStage().update()}zot(o)&&(o=200),zot(n)&&(n=60),zot(a)&&(a="#C60"),zot(r)&&(r="#F93"),zot(s)&&(s=null),zot(d)&&(d=1),zot(l)&&(l=20),zot(h)&&(h="rgba(0,0,0,.3)"),zot(u)&&(u=16),zot(c)&&(c=0),zot(i)&&(i="PRESS"),("string"==typeof i||"number"==typeof i)&&(i=new e.Label(i,36,"arial","white"));var f=this;this.mouseChildren=!1,this.cursor="pointer";var v=new e.Rectangle(o,n,a,s,d,l);if(this.addChild(v),this.backing=v,c>0){var m=new createjs.Shape;m.graphics.f("#000").r(-c,-c,o+2*c,n+2*c),this.hitArea=m}u>0&&(v.shadow=new createjs.Shadow(h,3,3,u)),this.setBounds(0,0,o,n),this.width=o,this.height=n,i.x=(o-i.getBounds().width)/2+1,i.y=(n-i.getBounds().height)/2+2,this.addChild(i),this.label=i,Object.defineProperty(f,"text",{get:function(){var e=" "==i.text?"":i.text;return e},set:function(e){i.text=e,i.x=(o-i.getBounds().width)/2+1,i.y=(n-i.getBounds().height)/2+2}}),Object.defineProperty(f,"color",{get:function(){return a},set:function(t){a=t,v.color=a,!e.OPTIMIZE&&f.getStage()&&f.getStage().update()}}),Object.defineProperty(f,"rollColor",{get:function(){return r},set:function(e){r=e}}),this._enabled=!0,Object.defineProperty(f,"enabled",{get:function(){return f._enabled},set:function(o){t(f,o),f.mouseChildren=!1,i.color=i.color,!e.OPTIMIZE&&f.getStage()&&f.getStage().update()}}),this.on("mouseover",g),this.dispose=function(){f.removeAllEventListeners(),f.removeChild(v),f.removeChild(buttonLabel),v=null,buttonLabel=null}}var p,f="width, height, label, color, rollColor, borderColor, borderThickness, corner, shadowColor, shadowBlur, hitPadding";return(p=zob(e.Button,arguments,f))?p:(g.prototype=new createjs.Container,g.prototype.constructor=e.Button,new g)},e.CheckBox=function(o,n,i,a,r){function s(){function s(e){d=!d,l.setChecked(d),l.dispatchEvent("change")}zot(o)&&(o=60),zot(n)&&(n=null),("string"==typeof n||"number"==typeof n)&&(n=new e.Label(n,5*o/6,"arial",a));var d=zot(i)?!1:i;zot(a)&&(a="black"),zot(r)&&(r=10),this.setBounds(-r,-r,o+2*r,o+2*r);var l=this;this.cursor="pointer";var h=new createjs.Shape,u=h.graphics;u.f("rgba(255,255,255,.5)").r(0,0,o,o),u.s(a).ss(o/10).r(o/7,o/7,o-o/7*2,o-o/7*2),this.addChild(h);var c=o;n&&(this.addChild(n),n.x=1.3*o+r,n.y=o/8,this.label=n,this.setBounds(-r,-r,o+3*r+n.getBounds().width,Math.max(o+2*r,n.getBounds().height)),c=n.x+n.width);var g=new createjs.Shape;u=g.graphics,u.f("rgba(0,0,0,.01)").r(this.getBounds().x,this.getBounds().y,c+2*r,this.getBounds().height),this.hitArea=g;var p=new createjs.Shape,f=p.graphics,v="#000";f.f(v).p("AnQAdICBiaIEEDZIF8nfICfB4In/KPg");var m=95;p.setBounds(-m/2,-m/2,m,m);var z=o/(m+66);p.scaleX=p.scaleY=z,p.alpha=.9,p.x=o/2,p.y=o/2,d&&this.addChild(p),this.on("mousedown"==e.ACTIONEVENT?"mousedown":"click",s),Object.defineProperty(l,"checked",{get:function(){return d},set:function(e){l.checked!=e&&l.dispatchEvent("change"),l.setChecked(e)}}),Object.defineProperty(p,"color",{get:function(){return v},set:function(t){d&&l.removeChild(p),p=new createjs.Shape,f=p.graphics,v=t,f.f(v).p("AnQAdICBiaIEEDZIF8nfICfB4In/KPg"),p.scaleX=p.scaleY=z,p.alpha=.9,p.x=o/2,p.y=o/2,d&&l.addChild(p),!e.OPTIMIZE&&l.getStage()&&l.getStage().update()}}),Object.defineProperty(l,"check",{get:function(){return p},set:function(e){zog("ZIM CheckBox - check is read only")}}),this._enabled=!0,Object.defineProperty(l,"enabled",{get:function(){return l._enabled},set:function(e){t(l,e)}}),this.setChecked=function(t){zot(t)&&(t=!0),d=t,d?l.addChild(p):l.removeChild(p),!e.OPTIMIZE&&l.getStage()&&l.getStage().update()},this.dispose=function(){l.removeAllEventListeners()}}var d,l="size, label, startChecked, color, margin";return(d=zob(e.CheckBox,arguments,l))?d:(s.prototype=new createjs.Container,s.prototype.constructor=e.CheckBox,new s)},e.RadioButtons=function(o,n,i,a,r,s,d){function l(){function l(e){var t=p.getChildIndex(e.target);d&&c.selectedIndex==t||(c.setSelected(t),c.dispatchEvent("change"))}function h(){for(var t,s=!1,d=n.length-1;d>=0;d--)t=n[d],t.selected&&t.selected===!0&&(s?t.selected="false":(s=!0,c.id=t.id));p.removeAllChildren();for(var l,h=0,d=0;d<n.length;d++){if(t=n[d],"string"==typeof t||"number"==typeof t){var f={selected:!1,label:new e.Label(t,5*o/6,"arial",a)};t=f}(t.label&&"string"==typeof t.label||"number"==typeof t.label)&&(t.label=new e.Label(t.label,5*o/6,"arial",a)),c.labels.push(t.label),t.index=d,l=u(t.selected,t.label),l.obj=t,t.selected&&(g=l.obj),p.addChild(l),i?(l.y=h,h+=l.getBounds().height+r):(l.x=h,h+=l.getBounds().width+r)}}function u(t,n){var i=new createjs.Container;i.mouseChildren=!1,i.setBounds(-s,-s,o+2*s,o+2*s);var r=new createjs.Shape,d=r.graphics;d.f("rgba(255,255,255,.5)").dc(o/2,o/2,o/1.85),d.s(a).ss(o/9).dc(o/2,o/2,o/2-o/2/5),i.addChild(r);var l=i.check=new e.Circle(o/5.2);c.dots.push(l),l.mouseEnabled=!1,l.alpha=.95,l.regX=l.regY=-o/2;var h=o;n&&(i.addChild(n),n.x=i.getBounds().width,n.y=o/8,i.setBounds(-s,-s,o+2*s+n.getBounds().width,Math.max(o+2*s,n.getBounds().height)),h=n.x+n.width),t&&(i.addChild(l),c.label=n,c.label&&(c.text=n.text));var u=new createjs.Shape;return d=u.graphics,d.f("rgba(0,0,0,.01)").r(i.getBounds().x,i.getBounds().y,h+2*s,i.getBounds().height),i.hitArea=u,i}if(zot(o)&&(o=60),o=Math.max(5,o),!zot(n)){zot(i)&&(i=!0),zot(a)&&(a="#111"),zot(r)&&(r=i?.2*o:o),zot(s)&&(s=o/5);var c=this;this.cursor="pointer",this.labels=[],this.dots=[];var g,p=new createjs.Container;this.addChild(p),p.on("mousedown"==e.ACTIONEVENT?"mousedown":"click",l),h();this.getBounds()||this.setBounds(0,0,o,o),this.setBounds(-s,-s,this.getBounds().width+s,this.getBounds().height+s),this.setSelected=function(t){if(zot(t)&&(t=-1),-1==t||p.getChildAt(t)){for(var o,n=0;n<p.getNumChildren();n++)o=p.getChildAt(n),o.removeChild(o.check);if(t>=0){o=p.getChildAt(t);var i=-2;g&&(i=g.index),g=o.obj}-1==t||i==g.index?(g=null,c.id=null,c.label=null,c.text=""):(o.addChild(o.check),c.id=g.id,c.label=g.label,c.label&&(c.text=c.label.text)),!e.OPTIMIZE&&c.getStage()&&c.getStage().update()}},Object.defineProperty(c,"selected",{get:function(){return g},set:function(e){zog("ZIM RadioButton - selected is read only")}}),Object.defineProperty(c,"selectedIndex",{get:function(){return g?g.index:-1},set:function(e){var t=e;d&&c.selectedIndex==t||(c.setSelected(t),c.dispatchEvent("change"))}}),this._enabled=!0,Object.defineProperty(c,"enabled",{get:function(){return c._enabled},set:function(e){t(c,e)}}),this.dispose=function(){c.removeAllEventListeners()}}}var h,u="size, buttons, vertical, color, spacing, margin, always";return(h=zob(e.RadioButtons,arguments,u))?h:(l.prototype=new createjs.Container,l.prototype.constructor=e.RadioButtons,new l)},e.Pane=function(t,o,n,i,a,r,s,d,l,h,u,c,g){function p(){function p(){t.removeChild(z),s&&(isNaN(z.resetX)||(z.x=z.resetX),isNaN(z.resetY)||(z.y=z.resetY))}function f(e,i){return e=Math.max(o/2,Math.min(t.getBounds().width-o/2,e)),i=Math.max(n/2,Math.min(t.getBounds().height-n/2,i)),{x:e,y:i}}if(zot(t)||!t.getBounds)return void zog("zim build - Pane(): Please pass in a reference to a container with bounds set as first parameter");if(!t.getBounds())return void zog("zim build - Pane(): Please give the container bounds using setBounds()");if(zot(t.getStage))return void zog("zim build - Pane(): Please give the container that has a stage property");zot(o)&&(o=200),zot(n)&&(n=200),zot(i)&&(i=null),("string"==typeof i||"number"==typeof i)&&(i=new e.Label(i,40,"arial","black")),zot(a)&&(a="white"),zot(r)&&(r=!1),zot(s)&&(s=!0),zot(d)&&(d=!0),zot(l)&&(l=20),zot(h)&&(h=.14),zot(u)&&(u="rgba(0,0,0,.3)"),zot(c)&&(c=20),zot(g)&&(g=!0);var v=this.backing=new createjs.Shape,m=v.graphics;m.beginFill("black"),m.drawRect(-5e3,-5e3,1e4,1e4),this.setBounds(-o/2,-n/2,o,n),v.alpha=h;var z=this;v.on("mousedown"==e.ACTIONEVENT?"mousedown":"click",function(e){p(),t.getStage().update(),z.dispatchEvent("close"),e.stopImmediatePropagation()}),v.on("mousedown",function(e){e.stopImmediatePropagation()}),d&&this.addChild(v);var b=this.display=new createjs.Shape;if(b.setBounds(0,0,o,n),b.regX=o/2,b.regY=n/2,m=b.graphics,m.beginFill(a),m.drawRoundRect(0,0,o,n,l),c>0&&(b.shadow=new createjs.Shadow(u,8,8,c)),b.on("click",function(e){e.stopImmediatePropagation()}),this.resetX,this.resetY,r){b.cursor="pointer";var w,y;b.on("mousedown",function(e){isNaN(z.resetX)&&(z.resetX=z.x),isNaN(z.resetY)&&(z.resetY=z.y),w=e.stageX-z.x,y=e.stageY-z.y,b.cursor="move"}),b.on("pressmove",function(e){var o=f(e.stageX-w,e.stageY-y);z.x=o.x,z.y=o.y,t.getStage().update()}),this.on("pressup",function(e){b.cursor="pointer",t.getStage().update()})}this.addChild(b),i&&(g&&(i.x=-i.getBounds().width/2,i.y=-i.getBounds().height/2),this.addChild(i),this.label=i,this.text=i.text),Object.defineProperty(z,"text",{get:function(){var e=" "==i.text?"":i.text;return e},set:function(e){i.text=e,g&&(i.x=-i.getBounds().width/2,i.y=-i.getBounds().height/2)}}),this.hide=function(){p(),e.OPTIMIZE||t.getStage().update()},this.show=function(){g&&isNaN(z.resetX)&&(z.x=t.getBounds().width/2,z.y=t.getBounds().height/2),t.addChild(z),t.getStage()&&t.getStage().update()},this.dispose=function(){b.removeAllEventListeners(),z.removeChild(b),b=null}}var f,v="container, width, height, label, color, drag, resets, modal, corner, backingAlpha, shadowColor, shadowBlur, center";return(f=zob(e.Pane,arguments,v))?f:(p.prototype=new createjs.Container,p.prototype.constructor=e.Pane,new p)},e.Waiter=function(t,o,n,i,a,r,s){function d(){if(zot(t)||!t.getBounds)return void zog("zim build - Waiter(): Please pass in a reference to a container with bounds set as first parameter");if(!t.getBounds())return void zog("zim build - Waiter(): Please give the container bounds using setBounds()");if(zot(t.getStage))return void zog("zim build - Waiter(): Please give the container that has a stage property");zot(o)&&(o=600),zot(n)&&(n="orange"),zot(i)&&(i="white"),zot(a)&&(a=16),zot(r)&&(r="#444"),zot(s)&&(s=14);var e=40,d=3,l=.6*e/2,h=(e-2*l)/2,u=d*(2*l+h)+h;this.setBounds(-u/2,-e/2,u,e);var c=this,g=this.display=new createjs.Shape;this.addChild(g),g.setBounds(0,0,u,e),g.regX=u/2,g.regY=e/2;var p=g.graphics;p.f(n),p.rr(0,0,u,e,a),s>0&&(g.shadow=new createjs.Shadow(r,3,3,s)),g.on("click",function(e){e.stopImmediatePropagation()});var f=new createjs.Container;this.addChild(f);for(var v,m=0;d>m;m++)v=new createjs.Shape,v.graphics.f(i).dc(0,0,l),v.x=(m-(d-1)/2)*(2*l+h),f.addChild(v),v.cache(-l,-l,2*l,2*l),v.alpha=0;t.getStage().update(),this.hide=function(){createjs.Tween.get(c,{override:!0}).to({alpha:0},300).call(function(){createjs.Ticker.off("tick",c.ticker),t.removeChild(c),t.getStage().update()})},this.show=function(){for(var e,n=0,i=0;i<f.getNumChildren();i++)c.alpha=0,createjs.Tween.get(c,{override:!0}).to({alpha:1},300),setTimeout(function(){e=f.getChildAt(n),createjs.Tween.get(e,{loop:!0}).to({alpha:1},o/d/2).wait(o/d).to({alpha:0},o/d).wait(o-o/d-o/d/2),n++},i*o/d);c.ticker=createjs.Ticker.on("tick",function(){t.getStage().update()}),c.x=t.getBounds().width/2,c.y=t.getBounds().height/2,t.addChild(c),t.getStage().update()},this.dispose=function(){g.removeAllEventListeners(),c.removeChild(g),c.removeChild(f),g=null,f=null}}var l,h="container, speed, color, circleColor, corner, shadowColor, shadowBlur";
return(l=zob(e.Waiter,arguments,h))?l:(d.prototype=new createjs.Container,d.prototype.constructor=e.Waiter,new d)},e.Stepper=function(o,n,i,a,r,s,d,l,h,u,c){function g(){function g(e){var t=f+e;if(c)t>o.length-1&&(t=0),0>t&&(t=o.length-1);else{if(t>o.length-1)return void(C.cursor="default");if(C.cursor="pointer",0>t)return}p(t),m.dispatchEvent("change")}function p(t){f=t,r.text=o[f],r.x=C.x+(C.getBounds().width-r.getBounds().width)/2,r.y=C.y+(C.getBounds().height-r.getBounds().height)/2,w.alpha=1,x.setFill(i),w.cursor="pointer",S.alpha=1,j.setFill(i),S.cursor="pointer",c||(0==f&&(w.alpha=.8,x.setFill("#aaa"),w.cursor="default"),f==o.length-1&&(S.alpha=.8,j.setFill("#aaa"),S.cursor="default")),!e.OPTIMIZE&&r.getStage()&&r.getStage().update()}zot(o)&&(o=[0,1,2,3,4,5,6,7,8,9]),zot(n)&&(n=200),zot(i)&&(i="white"),zot(a)&&(a=null),zot(r)&&(r=""),("string"==typeof r||"number"==typeof r)&&(r=new e.Label(r,64,"arial","#555")),zot(s)&&(s=!1),zot(d)&&(d=!0),zot(l)&&(l=16),zot(h)&&(h="rgba(0,0,0,.3)"),zot(u)&&(u=14),zot(c)&&(c=!1);var f,v="mousedown"==e.ACTIONEVENT?"mousedown":"click",m=this,z=100,b=z/4;r.mouseChildren=!1,r.mouseEnabled=!1;var w=this.arrowPrev=new createjs.Container;this.addChild(w);var y=new createjs.Shape;y.graphics.f("rgba(255,255,255,.11)").r(0,0,1.5*z,1.5*z),y.regX=1.5*z/2,y.regY=1.5*z/2+b/2,w.hitArea=y;var x=new e.Triangle(z,.8*z,.8*z,i);u>0&&(w.shadow=new createjs.Shadow(h,3,3,u)),w.addChild(x),w.cursor="pointer",w.on(v,function(e){g(-1)}),s?(w.rotation=0,w.x=n/2,w.y=w.getBounds().height/2):(w.rotation=-90,w.x=w.getBounds().height/2,w.y=w.getBounds().width/2);var C=this.textBox=new createjs.Shape;C.cursor="pointer",this.addChild(C),C.setBounds(0,0,n,z),null!=a&&C.graphics.s(a).ss(1.5),C.graphics.f(i).rr(0,0,n,z,l),u>0&&(C.shadow=new createjs.Shadow(h,3,3,u)),s?C.y=x.height+b:C.x=x.height+b,this.addChild(r),o.length>0&&(f=0,r.text=o[f]),r.x=C.x+(C.getBounds().width-r.getBounds().width)/2,r.y=C.y+(C.getBounds().height-r.getBounds().height)/2;var S=this.arrowNext=new createjs.Container;this.addChild(S);var B=new createjs.Shape;B.graphics.f("rgba(255,255,255,.01)").r(0,0,1.5*z,1.5*z),B.regX=1.5*z/2,B.regY=1.5*z/2+b/2,S.hitArea=B;var j=new e.Triangle(z,.8*z,.8*z,i);u>0&&(S.shadow=new createjs.Shadow(h,3,3,u)),S.addChild(j),S.cursor="pointer",S.on(v,function(e){g(1)}),C.on(v,function(e){g(1)}),s?(S.rotation=180,S.x=n/2,S.y=C.y+C.getBounds().height+S.getBounds().height/2+b):(S.rotation=90,S.x=C.x+C.getBounds().width+S.getBounds().height/2+b,S.y=S.getBounds().width/2),p(f),Object.defineProperty(this,"currentIndex",{get:function(){return f},set:function(e){f=Math.min(o.length-1,Math.max(0,e)),f!=m.currentIndex&&(p(f),m.dispatchEvent("change"))}}),Object.defineProperty(this,"currentValue",{get:function(){return o[f]},set:function(e){o.indexOf(e)>-1&&(f=o.indexOf(e)),f!=m.currentIndex&&(p(f),m.dispatchEvent("change"))}}),Object.defineProperty(this,"loop",{get:function(){return c},set:function(e){c=e,p(f)}}),Object.defineProperty(this,"stepperArray",{get:function(){return o},set:function(e){o=e}}),this._enabled=!0,Object.defineProperty(m,"enabled",{get:function(){return m._enabled},set:function(o){t(m,o),o?p(m.currentIndex):(w.alpha=.8,x.setFill("#aaa"),w.cursor="default",S.alpha=.8,j.setFill("#aaa"),S.cursor="default",r.mouseChildren=!1,r.mouseEnabled=!1),!e.OPTIMIZE&&r.getStage()&&r.getStage().update()}}),d&&(this.keyDownEvent=function(e){if(e||(e=event),e.keyCode>=37&&e.keyCode<=40){38==e.keyCode||39==e.keyCode?g(1):(37==e.keyCode||40==e.keyCode)&&g(-1)}},window.addEventListener("keydown",this.keyDownEvent)),this.next=function(){g(1)},this.prev=function(){g(-1)},this.dispose=function(){m.removeAllEventListeners()}}var p,f="list, width, color, strokeColor, label, vertical, arrows, corner, shadowColor, shadowBlur, loop";return(p=zob(e.Stepper,arguments,f))?p:(g.prototype=new createjs.Container,g.prototype.constructor=e.Stepper,new g)},e.Slider=function(o,n,i,a,r,s,d,l,h){function u(){function u(e){return 0==i?e:Math.round(e/i)*i}function c(e,t,o){return e=Math.max(o.x,Math.min(o.width,e)),t=Math.max(o.y,Math.min(o.height,t)),{x:e,y:t}}if(zot(o)&&(o=0),zot(n)&&(n=10),n-o==0)return void zog("ZIM Slider range must not be 0");if(zot(i)&&(i=0),zot(r)&&(r=300),zot(s)&&(s=3),zot(d)&&(d="#666"),zot(l)&&(l=!1),zot(h)&&(h=!1),zot(a)){var g=30,p=40;l&&(g=50,p=40),a=new e.Button(g,p,"","#fff","#ddd","#666",1,0,null,null,30)}var f=this,v=o;this.button=a;var m,z,b,w,y;if(h&&0!=i){w=this.ticks=new createjs.Shape,this.addChild(w),y=w.graphics,y.ss(1).s(d);var x=(n-o)/i,C=r/x}if(l){if(h&&0!=i){for(var S=0;x>=S;S++)y.mt(0,C*S).lt(20,C*S);w.x=10}m=this.bar=new e.Rectangle(s,r,d),this.addChild(m),e.centerReg(a),this.addChild(a),b=m.getBounds(),z=new createjs.Rectangle(b.width/2,b.y,0,b.height)}else{if(h&&0!=i){for(var S=0;x>=S;S++)y.mt(C*S,0).lt(C*S,-20);w.y=-10}m=this.bar=new e.Rectangle(r,s,d),this.addChild(m),e.centerReg(a),this.addChild(a),b=m.getBounds(),z=new createjs.Rectangle(b.x,b.height/2,b.width,0)}a.x=z.x,a.y=z.y;var B,j,M=0;a.on("mousedown",function(e){var t=f.globalToLocal(e.stageX,e.stageY);B=t.x-a.x,j=t.y-a.y}),a.on("pressmove",function(t){var i=f.globalToLocal(t.stageX,t.stageY),s=c(i.x-B,i.y-j,z);l?(a.x=s.x,v=u(s.y/r*(n-o)),a.y=v*r/(n-o),v+=o,a.y!=M&&f.dispatchEvent("change"),M=a.y):(v=u(s.x/r*(n-o)),a.x=v*r/(n-o),v+=o,a.y=s.y,a.x!=M&&f.dispatchEvent("change"),M=a.x),!e.OPTIMIZE&&f.getStage()&&f.getStage().update()}),Object.defineProperty(this,"currentValue",{get:function(){return v},set:function(t){o>t&&(t=o),t>n&&(t=n),v=t=u(t),l?(a.y=(t-o)/(n-o)*r,M=a.y):(a.x=(t-o)/(n-o)*r,M=a.x),!e.OPTIMIZE&&f.getStage()&&f.getStage().update()}}),Object.defineProperty(this,"min",{get:function(){return o},set:function(e){zon&&zog("min is read only")}}),Object.defineProperty(this,"max",{get:function(){return n},set:function(e){zon&&zog("max is read only")}}),Object.defineProperty(this,"step",{get:function(){return i},set:function(e){zon&&zog("step is read only")}}),this._enabled=!0,Object.defineProperty(f,"enabled",{get:function(){return f._enabled},set:function(e){t(f,e)}}),this.dispose=function(){a.removeAllEventListeners()}}var c,g="min, max, step, button, barLength, barWidth, barColor, vertical, useTicks";return(c=zob(e.Slider,arguments,g))?c:(u.prototype=new createjs.Container,u.prototype.constructor=e.Slider,new u)},e.Tabs=function(o,n,i,a,r,s,d,l,h,u,c){function g(){function g(t){var o=i[z];l&&(w[z].color=zot(o.offColor)?s:o.offColor,w[z].enabled=!0),z=t,o=i[z],w[z].color=zot(o.color)?a:o.color,l&&(w[z].enabled=!1),p.dispatchEvent("change"),!e.OPTIMIZE&&p.getStage()&&p.getStage().update()}zot(o)&&(o=240),zot(n)&&(n=60),(zot(i)||i.length<=0)&&(i=[{label:1},{label:2},{label:3},{label:4}]),zot(a)&&(a="#333"),zot(r)&&(r="#555"),zot(s)&&(s="#777"),zot(l)&&(l=!0),zot(d)&&(d=1),zot(h)&&(h=0),zot(u)&&(u=0),zot(c)&&(c=!0);var p=this;this.width=o,this.height=n,this.keyEnabled=c;for(var f,v,v,m,z=0,b=[],w=[],y=i.length,x=(o-d*(y-1))/y,C=0,S=0,B=0;B<i.length;B++)v=i[B],zot(v.width)&&S++,C+=zot(v.width)?x:v.width;if(C>o-d*(y-1))for(B=0;B<i.length;B++)v=i[B],v.width=(o-d*(y-1))/C*(zot(v.width)?x:v.width);else if(o-d*(y-1)>C)if(S>0)for(m=(C-S*x)/S,B=0;B<i.length;B++)v=i[B],v.width=zot(v.width)?m:v.width;else zon&&zog("ZIM Tabs - total less than width"),this.width=C+d*(y-1);var j,M=0;for(B=0;B<i.length;B++)v=i[B],zot(v.label)&&(v.label=" "),j=0!=B&&l?zot(v.offColor)?s:v.offColor:zot(v.color)?a:v.color,("string"==typeof v.label||"number"==typeof v.label)&&(v.label=new e.Label(v.label,36,"arial","white")),f=new e.Button(zot(v.width)?x:v.width,n,v.label,j,zot(v.rollColor)?r:v.rollColor,null,null,h,-1),f.num=B,v.label.num=B,v.label.y+=u,b.push(v.label),w.push(f),this.addChild(f),f.x=M,M=f.x+f.width+d,0==B&&l&&(f.enabled=!1);this.on("mousedown"==e.ACTIONEVENT?"mousedown":"click",function(e){g(e.target.num)}),window.addEventListener("keydown",function(e){if(p.keyEnabled&&9==e.keyCode){var t=z;g(e.shiftKey?--t<0?i.length-1:t:++t>i.length-1?0:t),e.preventDefault()}}),Object.defineProperty(this,"selected",{get:function(){return w[z]},set:function(e){zon&&zog("selected is read only - try selectedIndex")}}),Object.defineProperty(this,"selectedIndex",{get:function(){return z},set:function(e){g(Math.min(Math.max(e,0),i.length-1))}}),Object.defineProperty(this,"tabs",{get:function(){return z},set:function(e){g(Math.min(Math.max(e,0),i.length-1))}}),Object.defineProperty(this,"color",{get:function(){return a},set:function(t){a=t,zot(i[z].color)&&(w[z].color=a,!e.OPTIMIZE&&p.getStage()&&p.getStage().update())}}),Object.defineProperty(this,"rollColor",{get:function(){return r},set:function(e){r=e;for(var t=0;t<i.length;t++)zot(i[z].rollColor)&&(w[t].rollColor=r)}}),Object.defineProperty(this,"offColor",{get:function(){return s},set:function(t){s=t;for(var o=0;o<i.length;o++)zot(i[z].offColor)&&(w[o].color=s);!e.OPTIMIZE&&p.getStage()&&p.getStage().update()}}),Object.defineProperty(this,"label",{get:function(){return b[z]},set:function(e){zon&&zog("selected is read only - try selectedIndex")}}),Object.defineProperty(this,"text",{get:function(){return b[z].text},set:function(e){zon&&zog("selected is read only - try selectedIndex")}}),Object.defineProperty(this,"buttons",{get:function(){return w},set:function(e){zon&&zog("buttons is read only")}}),Object.defineProperty(this,"labels",{get:function(){return b},set:function(e){zon&&zog("labels is read only")}}),this._enabled=!0,Object.defineProperty(p,"enabled",{get:function(){return p._enabled},set:function(e){t(p,e)}}),this.dispose=function(){f.removeAllEventListeners()}}var p,f="width, height, tabs, color, rollColor, offColor, spacing, auto, corner, labelAdjust, keyEnabled";return(p=zob(e.Tabs,arguments,f))?p:(g.prototype=new createjs.Container,g.prototype.constructor=e.Tabs,new g)},e.Parallax=function(t,o,n,i,a,r){function s(e){u.step()}var d,l="stage, damp, layers, auto, fps, ticker";if(d=zob(e.Parallax,arguments,l))return d;if(zon&&zog("zim build - Parallax"),zot(t)||!t.getBounds)return void zog("zim build - Parallax(): please pass in the stage with bounds as first parameter");if(!t.getBounds())return void zog("zim build - Parallax(): Please give the stage bounds using setBounds()");zot(i)&&(i=!0),zot(a)&&(a=30),zot(r)&&(r=!0);var h=t.getBounds().width,u=(t.getBounds().height,this);this.damp=zot(o)?.1:o,this.addLayer=function(t){if(!(zot(t.obj)||zot(t.prop)||zot(t.propChange))){var o={obj:t.obj,prop:t.prop};o[o.prop]=t.propChange,zot(t.input)&&(t.input="mouseX"),o.input=t.input;var n=zot(t.inMin)?0:t.inMin,i=zot(t.inMax)?h:t.inMax,a=zot(t.factor)?1:t.factor,r=zot(t.integer)?!1:t.integer;return o["p_"+o.prop]=new e.ProportionDamp(n,i,0,o[o.prop],u.damp,a,r),"scale"==o.prop?o["s_"+o.prop]=o.obj.scaleX:"frame"==o.prop?o["s_"+o.prop]=o.obj.currentFrame:o["s_"+o.prop]=o.obj[o.prop],c.push(o),c.length-1}},this.removeLayer=function(e){if(!zot(e)){var t=c[e];t["p_"+t.prop].dispose(),c.splice(e,1)}},this.immediate=function(e){for(var t,o=0;o<c.length;o++)t=c[o],t["p_"+t.prop].immediate(e[o])},this.dispose=function(){c=null,i&&r&&createjs.Ticker.off("tick",p)},n=zot(n)?[]:n;for(var c=[],g=0;g<n.length;g++)this.addLayer(n[g]);if(i&&r){var p=createjs.Ticker.on("tick",s);createjs.Ticker.setFPS(a)}this.step=function(o){for(var n,i,a=0;a<c.length;a++)n=c[a],zot(o)?"mouseX"==n.input?i=t.mouseX:"mouseY"==n.input?i=t.mouseY:"scrollX"==n.input?i=e.scrollX():"scrollY"==n.input&&(i=e.scrollY()):i=o,"scale"==n.prop?n.obj.scaleX=n.obj.scaleY=n["s_"+n.prop]+n["p_"+n.prop].convert(i):"frame"==n.prop?n.obj.gotoAndStop(n["s_"+n.prop]+n["p_"+n.prop].convert(i)):(n.obj[n.prop]=n["s_"+n.prop]+n["p_"+n.prop].convert(i),"mouseX"==n.input&&(n.obj[n.prop]-=n[n.prop]/2));t.update()}},e.Scroller=function(t,o,n,i,a,r,s,d){function l(e){if(c.getStage()){if(!c.getStage().getBounds())return void zog("zim build - Scroller(): please setBounds() on stage");f||(f=c.getStage().getBounds().width,v=c.getStage().getBounds().height),0!=p.speed&&0!=p.direction&&(a?(c.x-=p.speed*p.direction,g.x-=p.speed*p.direction,p.direction*p.speed>0?g.x<0&&c.x<g.x?c.x=g.getBounds().width-p.gapFix:c.x<0&&g.x<c.x&&(g.x=c.getBounds().width-p.gapFix):g.x>f&&g.x>c.x?g.x=c.x-c.getBounds().width+p.gapFix:c.x>f&&c.x>g.x&&(c.x=g.x-g.getBounds().width+p.gapFix)):(c.y-=p.speed*p.direction,g.y-=p.speed*p.direction,p.direction*p.speed>0?g.y<0&&c.y<g.y?c.y=g.getBounds().height-p.gapFix:c.y<0&&g.y<c.y&&(g.y=c.getBounds().height-p.gapFix):g.y>v&&g.y>c.y?g.y=c.y-c.getBounds().height+p.gapFix:c.y>v&&c.y>g.y&&(c.y=g.y-g.getBounds().height+p.gapFix)),c.getStage().update())}}var h,u="backing1, backing2, speed, direction, horizontal, gapFix, fps, ticker";if(h=zob(e.Scroller,arguments,u))return h;var c=t,g=o;if(!zot(c)&&c.getBounds&&!zot(g)&&g.getBounds){zot(a)&&(a=!0);var p=this;if(zot(s)&&(s=30),zot(d)&&(d=!0),this.speed=zot(n)?1:n,this.direction=zot(i)?1:i,this.gapFix=zot(r)?0:r,!c.getBounds()||!g.getBounds())return void zog("zim build - Scroller(): please setBounds() on backing objects");if(!c.getStage())return void zog("zim build - Scroller(): please add backing objects to stage to start");var f,v;if(a?g.x=c.getBounds().width:g.y=c.getBounds().height,d){var m=createjs.Ticker.on("tick",l);createjs.Ticker.setFPS(s)}this.dispose=function(){zon&&zog("bye from Scroller"),d&&createjs.Ticker.off("tick",m)}}},e}(zim||{}),zim=function(e){return zon&&zog("ZIM PAGES Module"),e.Swipe=function(t,o,n){function i(){if(zot(t)||!t.on)return void zog("zim pages - Swipe():\nPlease pass in object");zot(o)&&(o=30),zot(n)&&(n=80),this.distance=o,this.duration=n,this.active=!0;var e,i,a,r,s,d,l=this;t.on("mousedown",function(o){function n(){var t=!1;Math.abs(a-e)>Math.abs(r-i)?(a-e>l.distance&&(l.direction="right",l.dispatchEvent("swipe"),t=!0),e-a>l.distance&&(l.direction="left",l.dispatchEvent("swipe"),t=!0)):(r-i>l.distance&&(l.direction="down",l.dispatchEvent("swipe"),t=!0),i-r>l.distance&&(l.direction="up",l.dispatchEvent("swipe"),t=!0)),t||(l.direction="none",l.dispatchEvent("swipe"))}l.active&&!o.target.zimNoSwipe&&(l.obj=o.target,a=e=o.stageX,r=i=o.stageY,s=!0,l.dispatchEvent("swipedown"),clearTimeout(d),d=setTimeout(function(){s&&(n(),s=!1)},l.duration),t.on("pressmove",function(e){a=e.stageX,r=e.stageY}),t.on("pressup",function(e){s&&(n(),s=!1,clearTimeout(d))}))}),this.disable=function(){l.active=!1},this.enable=function(){l.active=!0}}var a,r="obj, distance, duration";return(a=zob(e.Swipe,arguments,r))?a:(i.prototype=new createjs.EventDispatcher,i.prototype.constructor=e.Swipe,new i)},e.Pages=function(t,o,n,i,a){function r(){function r(){s=new createjs.Shape,s.graphics.f("black").r(0,0,h,u+1),d=new createjs.Shape,d.graphics.f("white").r(0,0,h,u+1)}if(zot(t)||!t.getBounds||!t.getBounds())return void zog("zim pages - Pages():\nobject must have bounds set");zot(o)&&(o=[]),zot(n)&&(n="none"),zot(i)&&(i=200),zot(a)&&(a=[]),this.transitionTable=a,this.speed=i,this.active=!0;var s,d,l=this,h=t.getBounds().width,u=t.getBounds().height,c=this.page=o[0]?o[0].page:null;("none"!=n||a!=[])&&r();for(var g,p,f=["left","right","up","down"],v=0;v<o.length;v++)g=o[v],g.page.zimSwipeArray=g.swipe?g.swipe:[];this.addChild(c),this.swipe=new e.Swipe(t);var m,z=!1,b=this.swipe.on("swipe",function(e){if(l.active){var t=e.currentTarget.direction;if("none"!=t){var o="";"left"==t?o="right":"right"==t?o="left":"up"==t?o="down":"down"==t&&(o="up"),t=o;var n=f.indexOf(t);p=c.zimSwipeArray[n],m=[p,t,null,null,!0],l.page=c,l.nextPage=p,l.direction=t,l.dispatchEvent("swipe"),setTimeout(function(){z||l.go(p,t,null,null,!0)},50)}}});this.addPage=function(e,t){zot(t)&&(t=[]);var o={page:e,swipe:t};o.page.zimSwipeArray=o.swipe?o.swipe:[],c||(c=l.page=o.page,l.addChild(c))},this.removePage=function(e){l.currentPage==e&&(l.removeChild(e),t.getStage()&&t.getStage().update()),e.zimSwipeArray=null},this.setSwipe=function(e,t){zot(t)&&(t=[]);var o={page:e,swipe:t};o.page.zimSwipeArray=o.swipe?o.swipe:[]},this.pause=function(){z=!0},this.unpause=function(){z&&l.go(m[0],m[1],m[2],m[3],m[4])},this.go=function(o,a,r,g,p){function v(e){e[0].uncache(),e[1].uncache(),l.dispatchEvent("pageTransitioned"),l.removeChild(l.lastPage),l.removeChild(s),l.removeChild(d)}function m(t){l.removeChild(l.lastPage),e.animate(t.shift(),{alpha:0},l.speed/2,null,v,t)}setTimeout(function(){z=!1},200);for(var b=[{x:h},{x:-h},{y:u},{y:-u}],w=[{x:0},{x:0},{y:0},{y:0}],y=[{x:h/2,alpha:0},{x:-h/2,alpha:0},{y:u/2,alpha:0},{y:-u/2,alpha:0}],x=n,C=i,S=0;S<l.transitionTable.length;S++)if(l.transitionTable[S][0]==c&&l.transitionTable[S][1]==o){x=l.transitionTable[S][2],C=l.transitionTable[S][3];break}if(zot(r)&&(r=x),zot(g)&&(g=C),l.speed=g,l.direction=a,""==o||null==o)l.page=c,l.dispatchEvent("nothing");else if("string"==typeof o)l.page=c,l.dispatchEvent(o);else{if(o==c)return;zot(a)&&(a="right");var B=f.indexOf(a);o.x=0,o.y=0,o.alpha=1,"slide"==r?(o.x=-(0|b[B].x),o.y=-(0|b[B].y),o.cache(0,0,(h+1)/o.scaleX,(u+1)/o.scaleY),c.cache(0,0,(h+1)/c.scaleX,(u+1)/c.scaleY),l.addChild(o),l.addChild(c),e.animate(c,b[B],l.speed,null,v,[c,o]),e.animate(o,w[B],l.speed)):"reveal"==r?(o.cache(0,0,(h+1)/o.scaleX,(u+1)/o.scaleY),c.cache(0,0,(h+1)/c.scaleX,(u+1)/c.scaleY),l.addChild(o),l.addChild(c),e.animate(c,y[B],l.speed,null,v,[c,o])):"fade"==r?(o.cache(0,0,(h+1)/o.scaleX,(u+1)/o.scaleY),c.cache(0,0,(h+1)/c.scaleX,(u+1)/c.scaleY),o.alpha=1,l.addChild(o),l.addChild(c),e.animate(c,{alpha:0},l.speed,null,v,[c,o])):"black"==r?(o.cache(0,0,(h+1)/o.scaleX,(u+1)/o.scaleY),c.cache(0,0,(h+1)/c.scaleX,(u+1)/c.scaleY),o.alpha=1,l.addChild(o),l.addChild(c),s.alpha=0,l.addChild(s),e.animate(s,{alpha:1},l.speed/2,null,m,[s,c,o])):"white"==r?(o.cache(0,0,(h+1)/o.scaleX,(u+1)/o.scaleY),c.cache(0,0,(h+1)/c.scaleX,(u+1)/c.scaleY),o.alpha=1,l.addChild(o),l.addChild(c),d.alpha=0,l.addChild(d),e.animate(d,{alpha:1},l.speed/2,null,m,[d,c,o])):(l.addChild(o),l.removeChild(c)),l.lastPage=c,l.page=o,zot(p)&&(p=!1),l.fromSwipe=p,l.dispatchEvent("page"),c=o,t.getStage()&&t.getStage().update()}},this.resize=function(){h=t.getBounds().width,u=t.getBounds().height,("none"!=n||a!=[])&&r()},this.puff=function(e){for(var t=0;t<o.length;t++)l.addChild(o[t].page);l.addChild(c),e>0&&setTimeout(function(){l.settle()},e)},this.settle=function(){l.removeAllChildren(),l.addChild(c),l.dispatchEvent("puffed")},this.disable=function(){l.active=!1},this.enable=function(){l.active=!0},this.dispose=function(){l.swipe.off("swipe",b),l.removeAllChildren(),o=null}}var s,d="holder, pages, transition, speed, transitionTable";return(s=zob(e.Pages,arguments,d))?s:(r.prototype=new createjs.Container,r.prototype.constructor=e.Pages,new r)},zot(e.ACTIONEVENT)&&(e.ACTIONEVENT="mousedown"),e.HotSpots=function(t,o,n){function i(){function i(t){var i=null;if(!Array.isArray(t.rect)){if(i=t.rect,!i)return void zog("zim pages - HotSpots(): HotSpot "+t.page+" "+t.rect+" button does not exist");if(!i.getBounds())return void zog("zim pages - HotSpots(): HotSpots button needs bounds");t.rect=[i.x,i.y,i.getBounds().width,i.getBounds().height]}s=new e.HotSpot(t.page,t.rect[0],t.rect[1],t.rect[2],t.rect[3],t.call,o),s.zimHSpage=t.page,s.button=i,l.push(s),s.on(d,a),i&&(s.spot.mouseEnabled=!1,s.spot.mouseChildren=!1,i.zimHScall=t.call,i.zimHSEvent=i.on(d,a),n||(i.zimHSMDEvent=i.on("mousedown",function(e){e.stopImmediatePropagation()})),i.cursor="pointer")}function a(e){e.stopImmediatePropagation&&e.stopImmediatePropagation(),window.event&&(window.event.cancelBubble=!0),"function"==typeof e.currentTarget.zimHScall&&e.currentTarget.zimHScall(e)}if(zot(t)||!Array.isArray(t))return void zog("zim pages - HotSpots():\nplease provide an array of HotSpot data");zot(o)&&(o=!0),zot(n)&&(n=!1);for(var r,s,d="mousedown"==e.ACTIONEVENT?"mousedown":"click",l=[],h=0;h<t.length;h++)i(t[h]);this.addHotSpot=function(e,o,n){r={page:e,rect:o,call:n},t.push(r),i(r)},this.show=function(){for(var e=0;e<l.length;e++)s=l[e],s.button||s.show()},this.hide=function(){for(var e=0;e<l.length;e++)s=l[e],s.hide()},this.removeHotSpots=function(o,i){for(var h=t.length-1;h>=0;h--)r=t[h],s=l[h],i&&!Array.isArray(i)&&(i=[i.x,i.y,i.getBounds().width,i.getBounds().height]),(zot(o)&&zot(i)||zot(i)&&o==r.page||zot(o)&&e.arraysEqual(i,r.rect)||o==r.page&&e.arraysEqual(i,r.rect))&&(t.splice(h,1),s.button&&(s.button.off(d,s.button.zimHSEvent),s.button.zimHSEvent=null,n||(s.button.off("mousedown",s.button.zimHSMDEvent),s.button.zimHSMDEvent=null)),s.off(d,a),s.dispose(),l.splice(h,1))},this.dispose=function(){for(var e=0;e<l.length;e++)s=l[e],s.button&&(s.button.off(d,s.button.zimHSEvent),s.button.zimHSCall=null,s.button.zimHSEvent=null,n||(s.button.off("mousedown",s.button.zimHSMDEvent),s.button.zimHSMDEvent=null)),s.off(d,a),s.dispose()}}var a,r="spots, local, mouseDowns";return(a=zob(e.HotSpots,arguments,r))?a:(i.prototype=new createjs.Container,i.prototype.constructor=e.HotSpots,new i)},e.HotSpot=function(t,o,n,i,a,r,s){function d(){if(zot(t)||!t.addChild)return void zog("zim pages - HotSpot():\nPlease pass in container object for obj");t instanceof createjs.Container==0&&zog("zim build - HotSpot():\nObjects passed in should be Containers"),zot(s)&&(s=!0),eventType="mousedown"==e.ACTIONEVENT?"mousedown":"click";var d=i,l=a,h=new createjs.Shape,u=new createjs.Shape;if(s)h.graphics.f("#999999").dr(o,n,d,l),u.graphics.f("#999999").dr(o,n,1,1);else{var c=t.globalToLocal(o,n),g=t.globalToLocal(o+d,n+l),p=g.x-c.x,f=g.y-c.y;h.graphics.f("#999999").dr(c.x,c.y,p,f),u.graphics.f("#999999").dr(c.x,c.y,1,1)}h.alpha=.4,h.mouseEnabled=!1,u.alpha=.01,u.cursor="pointer",this.spot=u;var v=u.on(eventType,function(e){"function"==typeof r&&r()});t.addChild(u),u.hitArea=h,this.show=function(){t.addChild(h)},this.hide=function(){t.removeChild(h)},this.dispose=function(){u.off(eventType,v),t.removeChild(u),delete u}}var l,h="obj, x, y, width, height, call, local";return(l=zob(e.HotSpot,arguments,h))?l:(d.prototype=new createjs.Container,d.prototype.constructor=e.HotSpot,new d)},e.dashedLinesOn=function(){e.dashed||(e.dashed=!0,createjs.Graphics.prototype.dashedLineTo=function(e,t,o,n,i){this.moveTo(e,t);for(var a=o-e,r=n-t,s=Math.floor(Math.sqrt(a*a+r*r)/i),d=a/s,l=r/s,h=0;h++<s;)e+=d,t+=l,this[h%2==0?"moveTo":"lineTo"](e,t);return this[h%2==0?"moveTo":"lineTo"](o,n),this},createjs.Graphics.prototype.drawDashedRect=function(e,t,o,n,i){this.moveTo(e,t);var a=e+o,r=t+n;return this.dashedLineTo(e,t,a,t,i),this.dashedLineTo(a,t,a,r,i),this.dashedLineTo(a,r,e,r,i),this.dashedLineTo(e,r,e,t,i),this})},e.Manager=function(e){zon&&e&&zog("zim pages - "+e);var t=this;this.items=[],this.add=function(e){t.items.push(e)},this.resize=function(){if(t)for(var e=0;e<t.items.length;e++)t.items[e].resize()||t.items.splice(e)},this.dispose=function(){for(var o=0;o<t.items.length;o++)t.items[o].dispose();t.items=[],zon&&zog("zim pages - "+e+" - all disposed"),t=null}},e.Guide=function(t,o,n,i,a){function r(){function r(e,t,o){var n=new createjs.Container;return n.shape=new createjs.Shape,n.shape.graphics.s(t).ss(1).f(e).r(0,0,m,z),n.shape.alpha=.9,n.addChild(n.shape),n.label=new createjs.Text("10","16px verdana",o),n.label.textAlign="center",n.label.textBaseline="middle",n.addChild(n.label),n.mouseChildren=!1,n.mouseEnabled=!1,n}function s(){clearInterval(B),"stage"==t?(u=g.getStage(),t=u):u=t.getStage(),y=t.getBounds().width,x=t.getBounds().height,o?(v.y=x/2,v.label.text="y:"+(g.pixels?Math.round(70*y/100):"70%")):(v.x=y/2,v.label.text="x:"+(g.pixels?Math.round(70*x/100):"70%")),C=new createjs.Shape,g.addChild(C),o?C.x=.7*y:C.y=.7*x,j||(t.addChild(g),l()),u.off("stagemousemove",c),c=u.on("stagemousemove",d),u.update()}function d(e){var i,a;e?(i=t.globalToLocal(e.rawX,e.rawY),M=i):i={x:M.x,y:M.y},n?o?(a=Math.round(Math.abs(i.x-C.x)/y*100),v.label.text="x:"+Math.max(0,Math.min(a,100))+"%",v.y=Math.max(w,Math.min(i.y,f))):(a=Math.round(Math.abs(i.y-C.y)/x*100),v.label.text="y:"+Math.max(0,Math.min(a,100))+"%",v.x=Math.max(b,Math.min(i.x,p))):o?(a=Math.round(Math.abs(i.x-C.x)),v.label.text="x:"+Math.max(0,Math.min(a,Math.round(y))),v.y=Math.max(w,Math.min(i.y,f))):(a=Math.round(Math.abs(i.y-C.y)),v.label.text="y:"+Math.max(0,Math.min(a,Math.round(x))),v.x=Math.max(b,Math.min(i.x,p))),u&&u.update()}function l(){j=!0,y=t.getBounds().width,x=t.getBounds().height;var n;o?(n="ew-resize",S=new createjs.Rectangle(0,0,y,0)):(n="ns-resize",S=new createjs.Rectangle(0,0,0,x)),e.noDrag(C),setTimeout(function(){e.drag(C,S,n,n,null,null,!0)},500),u.mouseMoveOutside=!0,u.enableMouseOver(10),p=y-2*m/3,f=x-z-z,C.uncache();var i=C.graphics;o?(i.c().s("rgba(0,255,255,.1)").ss(20).mt(0,0).lt(0,x),i.f().s("white").ss(2).mt(0,0).lt(0,x),i.s("#00c5af").ss(2).dashedLineTo(0,0,0,x,20),C.cache(-10,0,20,x)):(i.c().s("rgba(255,0,255,.1)").ss(20).mt(0,0).lt(y,0),i.f().s("white").ss(2).mt(0,0).lt(y,0),i.s("#d61fa0").ss(2).dashedLineTo(0,0,y,0,20),C.cache(0,-10,y,20)),o?v.x=y:v.y=x,g.addChild(v)}function h(e){e||(e=event),u&&(String.fromCharCode(e.keyCode)==i.toUpperCase()&&(g.visible=!g.visible,u.off("stagemousemove",c),g.visible&&(c=u.on("stagemousemove",d,g)),u.update()),String.fromCharCode(e.keyCode)==a.toUpperCase()&&(g.pixels=!g.pixels))}if(zot(t)&&(t="stage"),zot(o)&&(o=!0),!("stage"==t||t.getBounds&&t.getBounds()))return void zog("zim pages - Guide(): Please provide bounds for the obj (setBounds())");zot(n)&&(n=!0),zot(i)&&(i="G"),zot(a)&&(a="P");var u,c,g=this;e.dashedLinesOn();var p,f,v,m=80,z=26,b=m/6+m/2,w=2*z;o?(v=r("#00c5af","white","white"),v.shape.regX=m+m/6,v.shape.regY=z/2,v.label.x=-m/2-m/6):(v=r("#d61fa0","white","white"),v.shape.regX=m/2,v.shape.regY=z+z/4,v.label.y=3*-z/4);var y,x,C,S,B=setInterval(function(){"stage"==t?g&&g.getStage()&&s():t&&t.getStage()&&s()},100),j=!1,M={x:0,y:0};Object.defineProperty(this,"pixels",{get:function(){return!n},set:function(e){n=!e,g.resize()}}),window.addEventListener("keydown",h),this.resize=function(){return g?(u&&(l(),d()),!0):!1},this.dispose=function(){return g?(e.noDrag(C),clearInterval(B),g.removeAllChildren(),window.removeEventListener("keydown",h),g.parent&&g.parent.removeChild(g),g=null,!0):!1}}var s,d="obj, vertical, percent, hideKey, pixelKey";return(s=zob(e.Guide,arguments,d))?s:(r.prototype=new createjs.Container,r.prototype.constructor=e.Guide,new r)},e.GuideManager=function(){e.Manager.call(this,"GuideManager")},e.GuideManager.prototype=new e.Manager,e.GuideManager.prototype.constructor=e.GuideManager,e.Grid=function(t,o,n,i,a){function r(){function e(e,t,o){var n=new createjs.Container;return n.shape=new createjs.Shape,n.shape.graphics.s(t).ss(1).f(e).r(0,0,p,f),n.shape.alpha=.9,n.addChild(n.shape),n.label=new createjs.Text("10","16px verdana",o),n.label.textAlign="center",n.label.textBaseline="middle",n.addChild(n.label),n.mouseChildren=!1,n.mouseEnabled=!1,n}function r(){clearInterval(B),"stage"==t?(h=c.getStage(),t=h):h=t.getStage(),j||(d(),t.addChild(c)),h.off("stagemousemove",u),u=h.on("stagemousemove",s),h.update()}function s(e){var o;e?(o=t.globalToLocal(e.rawX,e.rawY),M=o):o={x:M.x,y:M.y},n?(v.label.text="x:"+Math.max(0,Math.min(Math.round(o.x/x*100),100))+"%",v.x=Math.max(w,Math.min(o.x,z)),m.label.text="y:"+Math.max(0,Math.min(Math.round(o.y/C*100),100))+"%",m.y=Math.max(y,Math.min(o.y,b))):(v.label.text="x:"+Math.max(0,Math.min(Math.round(o.x),Math.round(x))),v.x=Math.max(w,Math.min(o.x,z)),m.label.text="y:"+Math.max(0,Math.min(Math.round(o.y),Math.round(C))),m.y=Math.max(y,Math.min(o.y,b))),h&&h.update()}function d(){j=!0,x=t.getBounds().width,C=t.getBounds().height,h.mouseMoveOutside=!0,h.enableMouseOver(10),z=x-2*p/3,b=C-f-f,S=new createjs.Container,c.addChild(S);var e=new createjs.Shape;S.addChild(e);var i=e.graphics;i.s(o).ss(1);var a=new createjs.Shape;if(S.addChild(a),n){for(var r=1;22>r;r++)i.mt(r*x/20,0).lt(r*x/20,C);for(var r=1;20>r;r++)i.mt(0,r*C/20).lt(x,r*C/20);e.alpha=.3,i=a.graphics,i.s(o).ss(1);for(var r=1;10>r;r++)i.mt(r*x/10,0).lt(r*x/10,C);for(var r=1;10>r;r++)i.mt(0,r*C/10).lt(x,r*C/10)}else{for(var r=0;x/g>r;r++)i.mt(r*g,0).lt(r*g,C);for(var r=0;C/g>r;r++)i.mt(0,r*g).lt(x,r*g);e.alpha=.3,i=a.graphics,i.s(o).ss(1);for(var r=0;x/(10*g)>r;r++)i.mt(r*(10*g),0).lt(r*(10*g),C);for(var r=0;C/(10*g)>r;r++)i.mt(0,r*(10*g)).lt(x,r*(10*g))}var s=80;i.s("#FFFFFF").ss(8),i.mt(x/2,C/2-s/2).lt(x/2,C/2+s/2),i.mt(x/2-s/2,C/2).lt(x/2+s/2,C/2),i.s("#000000").ss(4),i.mt(x/2,C/2-s/2).lt(x/2,C/2+s/2),i.mt(x/2-s/2,C/2).lt(x/2+s/2,C/2),i.s(o).ss(3),i.dr(0,0,x,C),a.alpha=.5,S.cache(0,0,x,C),c.addChild(v),c.addChild(m),h.update()}function l(e){e||(e=event),h&&(String.fromCharCode(e.keyCode)==i.toUpperCase()&&(c.visible=!c.visible,h.off("stagemousemove",u),c.visible&&(u=h.on("stagemousemove",s,c)),h.update()),String.fromCharCode(e.keyCode)==a.toUpperCase()&&(c.removeChild(S),S=null,c.pixels=!c.pixels))}if(zot(t)&&(t="stage"),zot(o)&&(o="black"),!("stage"==t||t.getBounds&&t.getBounds()))return void zog("zim pages - Grid(): Please provide bounds for the obj (setBounds())");zot(n)&&(n=!0),zot(i)&&(i="G"),zot(a)&&(a="P");var h,u,c=this,g=10;this.mouseChildren=!1,this.mouseEnabled=!1;var p=80,f=26,v=e("#dddddd",o,"#333333");v.shape.regX=p/2,v.shape.regY=-f/4,v.label.y=3*f/4;var m=e("#dddddd",o,"#333333");m.shape.regX=-p/6,m.shape.regY=f/2,m.label.x=p/2+p/6;var z,b,w=p/6+p/2,y=2*f;v.x=w,m.y=y,v.label.text="x:0",m.label.text="y:0";var x,C,S,B=setInterval(function(){"stage"==t?c&&c.getStage()&&r():t&&t.getStage()&&r()},100),j=!1,M={x:0,y:0};Object.defineProperty(this,"pixels",{get:function(){return!n},set:function(e){n=!e,c.resize()}}),window.addEventListener("keydown",l),this.resize=function(){return c?(c.removeChild(S),S=null,h&&(d(),s(),setTimeout(function(){c.removeChild(S),S=null,d()},200)),!0):!1},this.dispose=function(){clearInterval(B),c.removeAllChildren(),window.removeEventListener("keydown",l),c.parent&&c.parent.removeChild(c),c=null}}var s,d="obj, color, percent, hideKey, pixelKey";return(s=zob(e.Grid,arguments,d))?s:(r.prototype=new createjs.Container,r.prototype.constructor=e.Grid,new r)},e.GridManager=function(){e.Manager.call(this,"GridManager")},e.GridManager.prototype=new e.Manager,e.GridManager.prototype.constructor=e.GridManager,e.Layout=function(t,o,n,i,a,r,s,d){function l(){function l(){for(var e=0,t=0;t<o.length;t++)p=o[t],p.given=0,0==p[m]&&(e+=p.object.getBounds()[m]);for(var t=0;t<o.length;t++)p=o[t],0==p[m]&&(p.given=p.object.getBounds()[m]/e*S)}function h(e){e||(e=event),r&&String.fromCharCode(e.keyCode)==d.toUpperCase()&&(r.visible=!r.visible,r.getStage()&&r.getStage().update())}if(zot(t)||!t.getBounds)return void zog("zim pages - Layout(): please provide an object with bounds set that holds the objects being laid out");if(s=zot(s)?t:s,!s.getBounds||!s.getBounds())return void zog("zim pages - Layout(): holder must have bounds set or provide a scalingObject with bounds");var u=s.getBounds();t.setBounds(0,0,u.width,u.height),zot(n)&&(n=0),zot(a)&&(a=!0),zot(i)&&(i=""),zot(d)&&(d="B"),e.dashedLinesOn();var c=new createjs.Shape,g=this;this.active=!0,this.regions=o;var p,f=0,v="minWidth",m="width",z="height",b="marginLeft",w="maxHeight",y="x",x="y";a&&(v="minHeight",m="height",z="width",b="marginTop",w="maxWidth",y="y",x="x");for(var C=0;C<o.length;C++){if(p=o[C],!p.object||!p.object.getBounds())return void zog("zim pages - Layout(): each region object must have an object with setBounds() set");p[v]||(p[v]=0),p[m]||(p[m]=0),p.backgroundColor||(p.backgroundColor=""),p.given=0,p.maxGiven=0,p[b]||(p[b]=0),p[w]||(p[w]=100),a?(p.align||(p.align="middle"),p.valign||(0==C?p.valign="top":C==o.length-1?p.valign="bottom":p.valign="middle",1==o.length&&(p.valign="middle"))):(p.valign||(p.valign="top"),p.align||(0==C?p.align="left":C==o.length-1?p.align="right":p.align="middle",1==o.length&&(p.align="middle"))),p[m]&&(p[v]=0),f+=p[m]+p[b]}if(f+=n,f>100)return void zog("zim pages - Layout(): cannot fit regions into 100% bounds");var S=100-f;l(),this.resize=function(){if(g.active){u=s.getBounds(),t.setBounds(0,0,u.width,u.height),c.graphics.clear(),""!=i&&c.graphics.f(i).r(0,0,u.width,u.height);for(var d=0;d<o.length;d++)p=o[d],p.maxGiven=0,p.marginGiven=0;for(var h,y,x,C,B,j,M,T=!0,k=S;T;){
y=0,T=!1,h=!0;for(var d=0;d<o.length;d++)p=o[d],p.given>0&&0==p.maxGiven&&(x=p.object.getBounds()[m],C=p.object.getBounds()[z],B=p.given*u[m]/100,j=p[w]*u[z]/100,M=C/x*B,M>j?(T=!0,p.maxGiven=x/C*j*100/u[m],y+=p.given-p.maxGiven,k-=p.maxGiven):h=!1);if(!T)break;if(h)break;totalPrimaries=0;for(var d=0;d<o.length;d++)p=o[d],0==p[m]&&0==p.maxGiven&&(totalPrimaries+=p.object.getBounds()[m]);for(var d=0;d<o.length;d++)p=o[d],0==p[m]&&0==p.maxGiven&&(p.given=p.object.getBounds()[m]/totalPrimaries*k)}var E=!0;if(p=o[0],p.maxGiven>0?p.maxGiven<p[v]&&(p[m]=p[v],E=!1):p.given>0&&p.given<p[v]&&(p[m]=p[v],E=!1),p=o[o.length-1],p.maxGiven>0?p.maxGiven<p[v]&&(p[m]=p[v],E=!1):p.given>0&&p.given<p[v]&&(p[m]=p[v],E=!1),!E){f=0;for(var d=0;d<o.length;d++)p=o[d],f+=p[m]+p[b];return f+=n,f>100?void zog("zim build - Layout(): cannot fit regions into 100% bounds"):(S=100-f,l(),void g.resize())}for(var P=!0,I=0,O=0,d=0;d<o.length;d++)p=o[d],I+=p[b],p[m]>0?O+=p[m]:p.maxGiven>0?O+=p.maxGiven:p.given>0&&(O+=p.given),0==p[m]&&(P=!1);if(P||h){I+=n;var L=100-O-I;if(I-=n+o[0][b],0!=L&&0!=I)for(var d=0;d<o.length;d++)0!=d&&(p=o[d],p.marginGiven=p[b]/I*(I+L))}var x,C,A,X,Y,G=0,N=0;if(r&&r.graphics){var F=r.graphics;F.c()}for(var d=0;d<o.length;d++)p=o[d],G+=p.marginGiven>0?p.marginGiven*u[m]/100:p[b]*u[m]/100,x=p[m]>0?p[m]:p.maxGiven>0?p.maxGiven:p.given>0?p.given:0,x=x*u[m]/100,C=p[w]*u[z]/100,N=(u[z]-C)/2,A=a?e.fit(p.object,N,G,C,x):e.fit(p.object,G,N,x,C),"top"==p.valign?p.object.y=A.bY:"bottom"==p.valign&&(p.object.y=A.bY+A.bHeight-A.height),"left"==p.align?p.object.x=A.bX:"right"==p.align&&(p.object.x=A.bX+A.bWidth-A.width),r&&r.graphics&&(F.s("white").ss(2).r(A.bX,A.bY,A.bWidth,A.bHeight),F.s("#ff8203").ss(2).drawDashedRect(A.bX,A.bY,A.bWidth,A.bHeight,20)),Y=X=0,(0==G||G+x==u[m])&&(a?Y=1:X=1),C==u[z]&&(a?X=1:Y=1),""!=p.backgroundColor&&c.graphics.f(p.backgroundColor).r(A.bX,A.bY,A.bWidth+X,A.bHeight+Y),G+=x}},this.resize(),r&&t.addChild(r),t.addChildAt(c,0),window.addEventListener("keydown",h),this.disable=function(){g.active=!1,window.removeEventListener("keydown",h),r&&(r.alpha=0)},this.enable=function(){g.active=!0,window.addEventListener("keydown",h),g.resize(),r&&(r.alpha=1)},this.removeShape=function(){r&&(r.graphics.clear(),t.removeChild(r),r=null,r=!1),window.removeEventListener("keydown",h)},this.addShape=function(e,o){g.removeShape(),r=e,window.addEventListener("keydown",h),t.addChild(r),g.resize()},this.dispose=function(){g.removeShape()}}var h,u="holder, regions, lastMargin, backgroundColor, vertical, regionShape, scalingObject, hideKey";return(h=zob(e.Layout,arguments,u))?h:(l.prototype=new createjs.EventDispatcher,l.prototype.constructor=e.Layout,new l)},e.LayoutManager=function(){zon&&zog("zim pages - LayoutManager");var e=this;this.items=[],this.add=function(t){e.items.push(t)},this.resize=function(){for(var t=0;t<e.items.length;t++)e.items[t].resize()},this.disable=function(){for(var t=0;t<e.items.length;t++)e.items[t].disable()},this.enable=function(){for(var t=0;t<e.items.length;t++)e.items[t].enable()},this.dispose=function(){for(var t=0;t<e.items.length;t++)e.items[t].removeShape()}},e}(zim||{}),zim=function(e){return zon&&zog("ZIM FRAME Module"),e.Frame=function(t,o,n,i,a,r){function s(){function s(){u(),d(),r&&setTimeout(function(){window.scrollTo(0,0)},100),v.dispatchEvent("ready"),"full"==t&&(b=!0,l())}function d(){"none"!=t&&h(),"full"==t&&(v.zil=zil()),f=new createjs.Stage("myCanvas"),f.setBounds(0,0,m,z),i&&f.enableMouseOver(10),a&&createjs.Touch.enable(f,!0)}function l(){b&&v.dispatchEvent("resize")}function h(){var o,n,i=zid("myCanvas"),a=e.windowWidth(),r=e.windowHeight();if(g=v.orientation=a>r?"horizontal":"vertical",g!=p&&(p=g,v.dispatchEvent("orientation")),i){if("fit"==t)a/r>=m/z?(n=r,o=n*m/z):(o=a,n=o*z/m);else if("outside"==t)document.body.style.overflow="hidden",a/r>=m/z?(o=a,n=o*z/m):(n=r,o=n*m/z);else if("full"==t)return document.body.style.overflow="hidden",i.style.left=i.style.top="0px",m=a,z=r,f&&f.setBounds(0,0,m,z),void l();i.style.width=o+"px",i.style.height=n+"px",i.style.left=(a-o)/2+"px",i.style.top=(r-n)/2+"px"}}function u(){var e=document.createElement("canvas");e.setAttribute("id","myCanvas"),c=Math.max(window.innerWidth,screen.width,window.innerHeight,screen.height),"full"==t?(e.setAttribute("width",c),e.setAttribute("height",c)):(e.setAttribute("width",m),e.setAttribute("height",z)),document.body.appendChild(e)}zot(t)&&(t="full"),zot(o)&&(o=500),zot(n)&&(n=500),zot(i)&&(i=!e.mobile()),zot(a)&&(a=!0),zot(r)&&(r=!0);var c,g,p,f,v=this,m=o,z=n,b=!1;window.addEventListener("load",s),"none"!=t&&window.addEventListener("resize",h),Object.defineProperty(v,"stage",{get:function(){return f},set:function(e){zog("zim.Frame(): stage is read only - see remakeCanvas(), perhaps")}}),Object.defineProperty(v,"stageW",{get:function(){return m},set:function(e){zog("zim.Frame(): stageW is read only - see remakeCanvas(), perhaps")}}),Object.defineProperty(v,"stageH",{get:function(){return z},set:function(e){zog("zim.Frame(): stageH is read only - see remakeCanvas(), perhaps")}}),Object.defineProperty(v,"width",{get:function(){return m},set:function(e){zog("zim.Frame(): width is read only - see remakeCanvas(), perhaps")}}),Object.defineProperty(v,"height",{get:function(){return z},set:function(e){zog("zim.Frame(): height is read only - see remakeCanvas(), perhaps")}}),this.remakeCanvas=function(e,o){"full"!=t&&(zot(e)&&(e=m),zot(o)&&(o=z),zid("myCanvas")&&zid("myCanvas").parentNode.removeChild(zid("myCanvas")),m=e,z=o,u(),d())},this.dispose=function(){window.removeEventListener("resize",h),f.removeAllChildren(),f.removeAllEventListeners(),zid("myCanvas")&&zid("myCanvas").parentNode.removeChild(zid("myCanvas")),f=null,v=null}}var d,l="scaling, width, height, rollover, touch, scrollTop";return(d=zob(e.Frame,arguments,l))?d:(s.prototype=new createjs.EventDispatcher,s.prototype.constructor=e.Frame,new s)},e}(zim||{});